# 摸鱼阅读 功能条目拆分（MVP）

## 1. 拆分原则
- 以 PRD v1.3 为基准，按优先级与功能模块双维度拆分。
- 每个条目具备明确输入、处理、输出，便于直接转任务卡。
- P0 为 MVP 必做；P1 为增强伪装与可用性；P2+ 为后续迭代。

## 2. 功能模块清单
- 阅读核心：仿微信聊天阅读页、大气泡独立滚动、静态伪装聊天。
- 导入解析：TXT 导入、编码识别、章节解析与降级切分。
- 目录跳转：长按头像进入目录、章节高亮、章节跳转。
- 进度管理：自动保存、自动恢复、多书独立进度。
- 老板键伪装：底部加号秒切、摇一摇切换、假聊天列表页。
- 书架管理：多书列表、切书、当前阅读书标记。
- 设置中心：右上角菜单统一入口、字体/联系人/头像/伪装文案配置。

## 3. P0 条目（MVP 必做）
| 编号 | 功能条目 | 模块 | 输入 | 输出/验收标准 |
|---|---|---|---|---|
| P0-01 | 仿微信阅读主界面框架 | 阅读核心 | App 启动 | 展示顶部栏+聊天区+底部输入栏 |
| P0-02 | 小说大气泡独立滚动 | 阅读核心 | 气泡内滑动 | 内层优先滚动，到边界后传递外层 |
| P0-03 | 静态伪装聊天区 | 阅读核心 | 进入阅读页 | 默认 5-8 条静态双向聊天记录 |
| P0-04 | 右上角菜单统一入口 | 设置中心 | 点击 `···` | 弹出菜单含书架/导入/设置入口 |
| P0-05 | TXT 导入 | 导入解析 | 选择 TXT 文件 | 导入成功并入库，支持最大 50MB |
| P0-06 | 编码识别与解码 | 导入解析 | TXT 原始字节 | 支持 UTF-8/GBK，乱码时提示 |
| P0-07 | 章节自动解析 | 导入解析 | 文本内容 | 正则识别章节；失败按 2000 字切章 |
| P0-08 | 章节目录页进入 | 目录跳转 | 长按左侧头像 >=0.5s | <0.3s 打开目录页 |
| P0-09 | 章节跳转 | 目录跳转 | 点击章节项 | 返回阅读页并定位到章节首行 |
| P0-10 | 当前章节高亮与已读状态 | 目录跳转 | 打开目录页 | 当前章高亮，已读章显示标记 |
| P0-11 | 阅读进度自动保存 | 进度管理 | 退后台/离开页面 | 保存章节号+滚动偏移 |
| P0-12 | 阅读进度自动恢复 | 进度管理 | 再次启动 App | 自动恢复上次阅读位置 |
| P0-13 | 多书独立进度 | 进度管理 | 切换书籍 | 每本书进度互不覆盖 |
| P0-14 | 老板键-加号触发 | 老板键伪装 | 点击底部 `+` | <0.1s 跳转假聊天列表页 |
| P0-15 | 老板键-摇一摇触发 | 老板键伪装 | 摇动设备 | <0.3s 跳转假聊天列表页 |
| P0-16 | 假聊天列表页 | 老板键伪装 | 老板键触发 | 展示 2-3 条静态会话，不可点入 |

## 4. P1 条目（MVP 后增强）
| 编号 | 功能条目 | 模块 | 输入 | 输出/验收标准 |
|---|---|---|---|---|
| P1-01 | 书架页（多书管理） | 书架管理 | 菜单进入书架 | 支持最多 20 本书展示与切换 |
| P1-02 | 字体大小调节 | 设置中心 | 选择小/中/大 | 阅读字体在 14/16/18sp 间切换 |
| P1-03 | 联系人名称与头像设置 | 设置中心 | 修改配置 | 阅读页顶部与左侧头像同步变更 |
| P1-04 | 自己头像设置 | 设置中心 | 修改配置 | 右侧静态聊天头像更新 |
| P1-05 | 聊天伪装文案自定义 | 设置中心 | 编辑内容/时间戳 | 静态聊天记录可配置并生效 |

## 5. P2/P3 预留条目
| 编号 | 功能条目 | 优先级 | 说明 |
|---|---|---|---|
| P2-01 | 多气泡段落模式 | P2 | 增强阅读伪装表现 |
| P2-02 | EPUB 导入 | P2 | 扩展格式支持 |
| P2-03 | 企业微信/钉钉皮肤 | P2 | 多伪装主题 |
| P3-01 | 云端进度同步 | P3 | 账号体系与跨端同步 |
| P3-02 | 皮肤切换正式上线 | P3 | 替换 MVP 置灰入口 |

## 6. 任务切片建议（可直接建卡）
- Sprint 1：P0-01 ~ P0-07（阅读主框架 + 导入解析链路）。
- Sprint 2：P0-08 ~ P0-13（目录跳转 + 进度系统）。
- Sprint 3：P0-14 ~ P0-16 + P1-01（老板键 + 假聊天页 + 书架基础）。
- Sprint 4：P1-02 ~ P1-05（配置能力完善与稳定性优化）。
